{
    "version": "3.0.1-5664-2df3434",
    "description": "Nintendo 64 emulator",
    "homepage": "https://www.pj64-emu.com/",
    "license": {
        "url": "https://github.com/project64/project64/blob/develop/license.md",
        "identifier": "GPL-2.0"
    },
    "url": "https://www.pj64-emu.com/file/project64-3-0-0-5632-f83bee9",
    "hash": "6e2d123a0d665576649c16dc0cb902d70f9a1072a5fbcd23a5ab4cf3854dd07f",
    "shortcuts": [
        [
            "Project64.exe",
            "Project64"
        ]
    ],
    "persist": [
        "Config",
        "Logs",
        "Save",
        "Screenshots",
        "Textures",
        "Games",
        "ROMs"
    ],
    "checkver": {
        "url": "https://www.pj64-emu.com/public-releases",
        "regex": "(.+?) (?<url>.*)",
        "script": [
            "$ProgressPreference = 'SilentlyContinue'",
            "$vregex = New-Object System.Text.RegularExpressions.Regex(\"<a href=`\"/`(?<url>[^`\"]*`)`\">Project64`\\s+`(?<version>v?[`\\d.]+`)`\\s+Zip</a>\")",
            "$match = $vregex.Matches($page) | Select-Object -First 1",
            "$url = $json.homepage + $match.Groups['url'].Value",
            "$page = (Invoke-WebRequest $url).Content",
            "$vregex = New-Object System.Text.RegularExpressions.Regex(\"/`(?<url>file/project64-[\\d-]+-[0-9a-f]+`)\")",
            "$match = $vregex.Matches($page) | Select-Object -First 1",
            "$realurl = $match.Groups['url'].Value",
            "$url = $json.homepage + $match.Groups['url'].Value",
            "$page = (Invoke-WebRequest -Method Head $url).RawContent",
            "$vregex = New-Object System.Text.RegularExpressions.Regex(\"filename=`\"Project64-(?<version>[\\d.]+-[\\d]+-[0-9a-f]+`)\")",
            "$match = $vregex.Matches($page) | Select-Object -First 1",
            "$version = $match.Groups['version'].Value",
            "Write-Output $version $realurl",
            "$ProgressPreference = 'Continue'"
        ]
    },
    "autoupdate": {
        "url": "https://www.pj64-emu.com/$matchUrl"
    }
}
